/*====================================================================

			     ライブラリー

                                               S.Kurohashi 91. 6.25
                                               S.Kurohashi 93. 5.31

    $Id$
====================================================================*/
#include "knp.h"

/*==================================================================*/
          FILE *fcheck_open(char *fname, char *mode)
/*==================================================================*/
{
    FILE *fp;
    if ( (fp = fopen(fname, mode))==NULL ) {
	fprintf(stderr, "Cannot open file(%s)\n", fname);
	exit(1) ;
    }
    return fp;
}

/*==================================================================*/
          int str_part_eq(char *dat, char *pat)
/*==================================================================*/
{
    int i, j, flag, jlen1, jlen2, jrange;

    jlen1 = strlen(dat)/2;
    jlen2 = strlen(pat)/2;
    jrange = jlen1 - jlen2;
    
    if ( jrange < 0 ) return 0;
    for ( i=0; i<=jrange; i++ ) {
	flag = 0;
	for ( j=0; j<jlen2*2; j++ )
	  if ( dat[2*i+j] != pat[j] ) {
	      flag = 1;
	      break;
	  }
	if ( flag == 0 )
	  return 1;
    }
    return 0;
}

/*==================================================================*/
          int str_head_eq(char *cp1, char *cp2)
/*==================================================================*/
{
    while ( *cp2 ) {
	if ( *cp1 == '\0' || *cp1 != *cp2 )
	  return 0;
	cp1++; cp2++;
    }
    return 1;
}

/*==================================================================*/
          int str_tail_eq(char *cp1, char *cp2)
/*==================================================================*/
{
    int len1, len2;
    
    len1 = strlen(cp1);
    len2 = strlen(cp2);

    if ( len1 < len2 ) return 0;
    cp1 += (len1 - len2);
    while ( *cp2 ) {
	if ( *cp1 != *cp2 )
	  return 0;
	cp1++; cp2++;
    }
    return 1;
}

/*==================================================================*/
          int memberof_char(char *pat[], char *dat)
/*==================================================================*/
{
    int i;
    
    for ( i=0; pat[i][0]; i++ ) 
      if ( str_eq(pat[i], dat) ) return 1;

    return 0;
}

/*====================================================================
                               END
====================================================================*/
